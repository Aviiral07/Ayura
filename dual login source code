<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | AYURA</title>
    <link rel="stylesheet" href="style.css"> 
</head>
<body class="login-body">
    
    <div class="login-container">
        <h1>AYURA Login</h1>
        <p>Login to access your appropriate dashboard.</p>
        
        <div class="role-select" id="roleSelect">
            <button id="doctorBtn" class="active" data-role="doctor">ü©∫ Doctor</button>
            <button id="patientBtn" data-role="patient">üë®‚Äç‚öï Patient</button>
        </div>

        <form id="loginForm">
            <div class="form-group">
                <label for="username" style="text-align: left;">Username / ID</label>
                <input type="text" id="username" placeholder="Enter your ID or ABHA ID" required>
            </div>
            
            <div class="form-group">
                <label for="password" style="text-align: left;">Password</label>
                <input type="password" id="password" placeholder="" required>
            </div>
            
            <button type="submit" class="verify-btn login-btn">
                Secure Login
            </button>
        </form>
    </div>

    <script>
        let currentRole = 'doctor';
        const loginForm = document.getElementById('loginForm');
        const doctorBtn = document.getElementById('doctorBtn');
        const patientBtn = document.getElementById('patientBtn');

        // --- Role Switching Logic ---
        doctorBtn.addEventListener('click', () => {
            currentRole = 'doctor';
            doctorBtn.classList.add('active');
            patientBtn.classList.remove('active');
            document.getElementById('username').placeholder = 'Enter Doctor ID / Registration No.';
        });

        patientBtn.addEventListener('click', () => {
            currentRole = 'patient';
            patientBtn.classList.add('active');
            doctorBtn.classList.remove('active');
            document.getElementById('username').placeholder = 'Enter ABHA ID';
        });

        // --- Login Simulation and Redirection ---
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            
            // In a real application, the backend would handle credential check and role assignment.
            // Here, we simulate redirection based on the selected role.

            if (currentRole === 'doctor') {
                // Doctor gets the EMR/FHIR Microservice access page
                alert('Doctor login successful! Redirecting to EMR Services.');
                window.location.href = 'emr_view.html'; 
            } else if (currentRole === 'patient') {
                // Patient gets the old AYURA services dashboard
                alert('Patient login successful! Redirecting to AYURA Services.');
                window.location.href = 'patient_dashboard.html'; 
            }
        });
    </script>
</body>
</html>
